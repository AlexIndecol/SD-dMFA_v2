meta:
  version: v4.7
  notes:
  - Canonical variable names; one CSV per exogenous variable under data/exogenous.
  - Indicator names aligned to INDICATORS.md formulas.
  - 'v3: end-use sectors expanded; added optional machinery split shares; lifetime
    inputs now expressed as mean+shape (Weibull) with scale derived at runtime.'
  - 'v3.1: added optional legacy_in_use_stock_by_age_kt and gas_to_use_observed_kt_per_yr
    to support robust legacy stock initialization.'
  - 'v4: time horizon 1820â€“2100; lifetimes lognormal (MISO2 style); added end_use_detail
    share variable; removed Weibull lifetime variables.'
  - 'v4.1: periods adjusted (historic ends 2019, reporting starts 2020).'
  - 'v4.2: added coupling/indicators scaffolding and runbook.'
  - 'v4.3: added inspectability assets (notebooks/ and docs/diagrams).'
  - 'v4.4: governance + scenarios + reporting configuration added.'
  - 'v4.5: indicators.yml regenerated from INDICATORS.md.'
  - 'v4.6: added placeholders for missing variables referenced by indicators/coupling/scenarios/reporting;
    added consistency scan report and validator.'
  - 'v4.7: added realized demand (I_use), commodity buffers/balancing items, scrap
    split & delay variables; aligned trade variables to commodity dimension.'
variables:
- name: reserves_kt
  role: exogenous
  category: exogenous
  dimensions:
  - t
  - r
  - m
  unit: kt
  description: Economically extractable reserves by region and material.
  constraints: {}
- name: resources_kt
  role: exogenous
  category: exogenous
  dimensions:
  - t
  - r
  - m
  unit: kt
  description: Identified + undiscovered resources by region and material.
  constraints: {}
- name: ore_mined_kt
  role: exogenous
  category: exogenous
  dimensions:
  - t
  - r
  - m
  unit: kt
  description: Ore mined (gross) by region/material.
  constraints: {}
- name: contained_metal_kt
  role: exogenous
  category: exogenous
  dimensions:
  - t
  - r
  - m
  unit: kt
  description: Contained metal in ore mined (for ore grade).
  constraints: {}
- name: wgi_norm_i_0_1
  role: exogenous
  category: exogenous
  dimensions:
  - t
  - i
  unit: 0-1
  description: Normalized governance indicator per supplier.
  constraints: {}
- name: trade_factor_i_ge_1
  role: exogenous
  category: exogenous
  dimensions:
  - t
  - i
  unit: '>=1'
  description: Trade friction factor per supplier (1=no extra friction).
  constraints: {}
- name: nonsubstitutability_j_0_1
  role: exogenous
  category: exogenous
  dimensions:
  - t
  - m
  - j
  unit: 0-1
  description: End-use nonsubstitutability (1=not substitutable). (j uses 7-category
    list; see configs/dimensions.yml)
  constraints: {}
- name: use_share_j_frac
  role: exogenous
  category: exogenous
  dimensions:
  - t
  - r
  - m
  - j
  unit: fraction
  description: Share of total demand allocated to each end-use. (j uses 7-category
    list; see configs/dimensions.yml)
  constraints:
    sum_to_one_over:
    - j
- name: byproduct_primary_production_kt_per_yr
  role: exogenous
  category: exogenous
  dimensions:
  - t
  - r
  - m
  unit: kt/yr
  description: Primary production attributable to by-product mining (optional).
  constraints: {}
- name: in_use_stock_observed_kt
  role: exogenous
  category: exogenous
  dimensions:
  - t
  - r
  - m
  - j
  unit: kt
  description: Observed in-use stock time series (metal content) for stock-driven
    dMFA years. (j uses 7-category list; see configs/dimensions.yml)
  constraints: {}
- name: od_preference_weight_0_1
  role: exogenous
  category: exogenous
  dimensions:
  - t
  - m
  - c
  - o
  - d
  unit: 0-1
  description: OD preference weights for trade allocation (not necessarily normalized).
  constraints: {}
- name: capacity_stage_kt_per_yr
  role: exogenous
  category: exogenous
  dimensions:
  - t
  - r
  - m
  - p
  unit: kt/yr
  description: Exogenous stage capacity ceilings (override computed).
  constraints: {}
- name: primary_production_kt_per_yr
  role: endogenous
  category: endogenous
  dimensions:
  - t
  - r
  - m
  unit: kt/yr
  description: Primary metal production leaving primary refining.
  constraints: {}
- name: secondary_production_kt_per_yr
  role: endogenous
  category: endogenous
  dimensions:
  - t
  - r
  - m
  unit: kt/yr
  description: Secondary metal production leaving secondary refining.
  constraints: {}
- name: in_use_stock_kt
  role: endogenous
  category: endogenous
  dimensions:
  - t
  - r
  - m
  - j
  unit: kt
  description: Modelled in-use stock (metal content).
  constraints: {}
- name: eol_outflow_kt_per_yr
  role: endogenous
  category: endogenous
  dimensions:
  - t
  - r
  - m
  - j
  unit: kt/yr
  description: End-of-life outflow from in-use stock (generated by lifetime model).
  constraints: {}
- name: collection_kt_per_yr
  role: endogenous
  category: endogenous
  dimensions:
  - t
  - r
  - m
  - j
  unit: kt/yr
  description: Collected EoL material.
  constraints: {}
- name: recycled_to_secondary_kt_per_yr
  role: endogenous
  category: endogenous
  dimensions:
  - t
  - r
  - m
  unit: kt/yr
  description: Scrap converted to secondary refined metal.
  constraints: {}
- name: losses_total_kt_per_yr
  role: endogenous
  category: endogenous
  dimensions:
  - t
  - r
  - m
  unit: kt/yr
  description: Total system losses to residues + environment.
  constraints: {}
- name: imports_kt_per_yr
  role: endogenous
  category: endogenous
  dimensions:
  - t
  - r
  - m
  - c
  unit: kt/yr
  description: Imports by region/material/commodity derived from OD allocation.
  constraints: {}
  kind: trade_output
  status: defined
  source: v4.7_trade_allocator
- name: exports_kt_per_yr
  role: endogenous
  category: endogenous
  dimensions:
  - t
  - r
  - m
  - c
  unit: kt/yr
  description: Exports by region/material/commodity derived from OD allocation.
  constraints: {}
  kind: trade_output
  status: defined
  source: v4.7_trade_allocator
- name: domestic_production_kt_per_yr
  role: endogenous
  category: endogenous
  dimensions:
  - t
  - r
  - m
  unit: kt/yr
  description: Domestic production available for use.
  constraints: {}
- name: apparent_consumption_kt_per_yr
  role: computed
  category: computed
  dimensions:
  - t
  - r
  - m
  unit: kt/yr
  description: Domestic production + imports - exports (apparent consumption).
  constraints: {}
- name: price_usd_per_t
  role: endogenous
  category: endogenous
  dimensions:
  - t
  - m
  unit: USD/t
  description: Modelled price per material.
  constraints: {}
- name: demand_kt_per_yr
  role: endogenous
  category: endogenous
  dimensions:
  - t
  - r
  - m
  unit: kt/yr
  description: Demand for refined metal.
  constraints: {}
- name: reserve_depletion_time_years
  role: computed
  category: computed
  dimensions:
  - t
  - r
  - m
  unit: '-'
  description: 'Computed indicator: reserve_depletion_time_years.'
  constraints: {}
- name: resource_depletion_time_years
  role: computed
  category: computed
  dimensions:
  - t
  - r
  - m
  unit: '-'
  description: 'Computed indicator: resource_depletion_time_years.'
  constraints: {}
- name: ore_grade_frac
  role: computed
  category: computed
  dimensions:
  - t
  - r
  - m
  unit: '-'
  description: 'Computed indicator: ore_grade_frac.'
  constraints: {}
- name: byproduct_percentage_frac
  role: computed
  category: computed
  dimensions:
  - t
  - r
  - m
  unit: '-'
  description: 'Computed indicator: byproduct_percentage_frac.'
  constraints: {}
- name: apparent_consumption_kt_per_yr
  role: computed
  category: computed
  dimensions:
  - t
  - r
  - m
  - c
  unit: kt/yr
  description: 'Apparent consumption by commodity: production + imports - exports
    + stock_change (plus balancing where needed).'
  constraints: {}
  kind: accounting
  status: defined
  source: miso2_apparent_consumption
- name: import_reliance_frac
  role: computed
  category: computed
  dimensions:
  - t
  - r
  - m
  unit: '-'
  description: 'Computed indicator: import_reliance_frac.'
  constraints: {}
- name: import_reliance_gross_frac
  role: computed
  category: computed
  dimensions:
  - t
  - r
  - m
  unit: '-'
  description: 'Computed indicator: import_reliance_gross_frac.'
  constraints: {}
- name: hhi_generic_0_1
  role: computed
  category: computed
  dimensions:
  - t
  - r
  - m
  unit: '-'
  description: 'Computed indicator: hhi_generic_0_1.'
  constraints: {}
- name: wgi_risk_i_0_1
  role: computed
  category: computed
  dimensions:
  - t
  - r
  - m
  unit: '-'
  description: 'Computed indicator: wgi_risk_i_0_1.'
  constraints: {}
- name: hhi_wgi_0_1
  role: computed
  category: computed
  dimensions:
  - t
  - r
  - m
  unit: '-'
  description: 'Computed indicator: hhi_wgi_0_1.'
  constraints: {}
- name: hhi_wgi_t_0_1
  role: computed
  category: computed
  dimensions:
  - t
  - r
  - m
  unit: '-'
  description: 'Computed indicator: hhi_wgi_t_0_1.'
  constraints: {}
- name: stockpile_kt
  role: computed
  category: computed
  dimensions:
  - t
  - r
  - m
  unit: '-'
  description: 'Computed indicator: stockpile_kt.'
  constraints: {}
- name: stockpile_cover_years
  role: computed
  category: computed
  dimensions:
  - t
  - r
  - m
  unit: '-'
  description: 'Computed indicator: stockpile_cover_years.'
  constraints: {}
- name: buffer_stock_to_flow_years
  role: computed
  category: computed
  dimensions:
  - t
  - r
  - m
  unit: '-'
  description: 'Computed indicator: buffer_stock_to_flow_years.'
  constraints: {}
- name: eol_rr_frac
  role: computed
  category: computed
  dimensions:
  - t
  - r
  - m
  unit: '-'
  description: 'Computed indicator: eol_rr_frac.'
  constraints: {}
- name: eol_rir_frac
  role: computed
  category: computed
  dimensions:
  - t
  - r
  - m
  unit: '-'
  description: 'Computed indicator: eol_rir_frac.'
  constraints: {}
- name: rir_frac
  role: computed
  category: computed
  dimensions:
  - t
  - r
  - m
  unit: '-'
  description: 'Computed indicator: rir_frac.'
  constraints: {}
- name: utilization_rate_frac
  role: computed
  category: computed
  dimensions:
  - t
  - r
  - m
  unit: '-'
  description: 'Computed indicator: utilization_rate_frac.'
  constraints: {}
- name: loss_rate_frac
  role: computed
  category: computed
  dimensions:
  - t
  - r
  - m
  unit: '-'
  description: 'Computed indicator: loss_rate_frac.'
  constraints: {}
- name: average_product_lifetime_years
  role: computed
  category: computed
  dimensions:
  - t
  - r
  - m
  unit: '-'
  description: 'Computed indicator: average_product_lifetime_years.'
  constraints: {}
- name: growth_rate_short_term_frac
  role: computed
  category: computed
  dimensions:
  - t
  - r
  - m
  unit: '-'
  description: 'Computed indicator: growth_rate_short_term_frac.'
  constraints: {}
- name: growth_rate_long_term_cagr_frac
  role: computed
  category: computed
  dimensions:
  - t
  - r
  - m
  unit: '-'
  description: 'Computed indicator: growth_rate_long_term_cagr_frac.'
  constraints: {}
- name: substitution_index_0_1
  role: computed
  category: computed
  dimensions:
  - t
  - r
  - m
  unit: '-'
  description: 'Computed indicator: substitution_index_0_1.'
  constraints: {}
- name: net_availability_kt_per_yr
  role: computed
  category: computed
  dimensions:
  - t
  - r
  - m
  unit: '-'
  description: 'Computed indicator: net_availability_kt_per_yr.'
  constraints: {}
- name: s_sec_max_kt_per_yr
  role: computed
  category: computed
  dimensions:
  - t
  - r
  - m
  unit: '-'
  description: 'Computed indicator: s_sec_max_kt_per_yr.'
  constraints: {}
- name: s_prim_max_kt_per_yr
  role: computed
  category: computed
  dimensions:
  - t
  - r
  - m
  unit: '-'
  description: 'Computed indicator: s_prim_max_kt_per_yr.'
  constraints: {}
- name: supply_risk_extraction_index
  role: computed
  category: computed
  dimensions:
  - t
  - r
  - m
  unit: '-'
  description: 'Computed indicator: supply_risk_extraction_index.'
  constraints: {}
- name: supply_risk_processing_index
  role: computed
  category: computed
  dimensions:
  - t
  - r
  - m
  unit: '-'
  description: 'Computed indicator: supply_risk_processing_index.'
  constraints: {}
- name: economic_importance_index
  role: computed
  category: computed
  dimensions:
  - t
  - r
  - m
  unit: '-'
  description: 'Computed indicator: economic_importance_index.'
  constraints: {}
- name: service_level_0_1
  role: computed
  category: computed
  dimensions:
  - t
  - r
  - m
  unit: '-'
  description: 'Computed indicator: service_level_0_1.'
  constraints: {}
- name: shortage_fraction_0_1
  role: computed
  category: computed
  dimensions:
  - t
  - r
  - m
  unit: '-'
  description: 'Computed indicator: shortage_fraction_0_1.'
  constraints: {}
- name: peak_shortage_0_1
  role: computed
  category: computed
  dimensions:
  - t
  - r
  - m
  unit: '-'
  description: 'Computed indicator: peak_shortage_0_1.'
  constraints: {}
- name: cumulative_unmet_demand_kt
  role: computed
  category: computed
  dimensions:
  - t
  - r
  - m
  unit: '-'
  description: 'Computed indicator: cumulative_unmet_demand_kt.'
  constraints: {}
- name: time_to_recovery_years
  role: computed
  category: computed
  dimensions:
  - t
  - r
  - m
  unit: '-'
  description: 'Computed indicator: time_to_recovery_years.'
  constraints: {}
- name: inventory_cover_years
  role: computed
  category: computed
  dimensions:
  - t
  - r
  - m
  unit: '-'
  description: 'Computed indicator: inventory_cover_years.'
  constraints: {}
- name: volatility_amplification_ratio
  role: computed
  category: computed
  dimensions:
  - t
  - r
  - m
  unit: '-'
  description: 'Computed indicator: volatility_amplification_ratio.'
  constraints: {}
- name: machinery_split_share_j_frac
  role: exogenous
  category: exogenous
  dimensions:
  - t
  - r
  - m
  - j
  unit: 0-1
  description: 'Disaggregation shares used when ingesting a 4-sector dataset that
    contains only the aggregated ''Machinery'' sector. Provide non-zero values only
    for the five categories: machinery_and_equipment, computers_and_precision_instruments,
    electrical_equipment, motor_vehicles_trailers_and_semi_trailers, other_transport_equipment.
    Values should sum to 1 across those five categories for each (t,r,m).'
  constraints:
    min: 0.0
    max: 1.0
    sum_over_j_equals: 1.0
- name: lifetime_mean_years
  role: exogenous
  category: exogenous
  dimensions:
  - r
  - m
  - j
  unit: years
  description: Mean lifetime (years) for lognormal lifetime modelling. Optional if
    mu/sigma are given directly.
  constraints:
    min: 0.1
- name: legacy_in_use_stock_by_age_kt
  role: exogenous
  category: exogenous
  dimensions:
  - r
  - m
  - j
  - a
  unit: kt
  description: 'Optional: in-use stock at model start year (1970) distributed by age
    cohort a (years since inflow). Use if you do NOT have sufficiently long historical
    inflow/GAS series to initialize cohorts.'
  constraints:
    min: 0.0
- name: gas_to_use_observed_kt_per_yr
  role: exogenous
  category: exogenous
  dimensions:
  - t
  - r
  - m
  - j
  unit: kt/yr
  description: 'Optional: observed gross additions to stock (GAS) into use-phase,
    used for historical warm-up to construct legacy cohorts.'
  constraints:
    min: 0.0
- name: lifetime_min_years
  role: exogenous
  category: exogenous
  dimensions:
  - r
  - m
  - j
  unit: years
  description: Minimum lifetime (years) used with the MISO2 'range rule' to estimate
    lognormal spread. Optional if mu/sigma are given.
  constraints:
    min: 0.0
- name: lifetime_max_years
  role: exogenous
  category: exogenous
  dimensions:
  - r
  - m
  - j
  unit: years
  description: Maximum lifetime (years) used with the MISO2 'range rule' to estimate
    lognormal spread. Optional if mu/sigma are given.
  constraints:
    min: 0.1
- name: lifetime_lognormal_mu
  role: exogenous
  category: exogenous
  dimensions:
  - r
  - m
  - j
  unit: ln(years)
  description: Lognormal mu parameter (mean of ln(lifetime)). Provide directly or
    derive from mean/min/max.
- name: lifetime_lognormal_sigma
  role: exogenous
  category: exogenous
  dimensions:
  - r
  - m
  - j
  unit: ln(years)
  description: Lognormal sigma parameter (std of ln(lifetime)). Provide directly or
    derive from mean/min/max.
  constraints:
    min: 0.0001
- name: end_use_detail_share_frac
  role: exogenous
  category: exogenous
  dimensions:
  - t
  - r
  - m
  - j
  - jd
  unit: 0-1
  description: 'Optional: shares allocating a 7-bucket end-use j into end_use_detail
    jd. Must sum to 1 over jd within each j for each (t,r,m).'
  constraints:
    min: 0.0
    max: 1.0
    sum_over_jd_equals: 1.0
- name: capacity_stage_raw_kt_per_yr
  description: Coupling variable 'capacity_stage_raw_kt_per_yr' referenced in configs/coupling.yml.
  unit: null
  dimensions:
  - t
  - r
  - m
  kind: placeholder
  status: placeholder
  source: auto_consistency_scan_v4_6
- name: capacity_stage_to_sd_kt_per_yr
  description: Coupling variable 'capacity_stage_to_sd_kt_per_yr' referenced in configs/coupling.yml.
  unit: null
  dimensions:
  - t
  - r
  - m
  kind: placeholder
  status: placeholder
  source: auto_consistency_scan_v4_6
- name: collection_rate_0_1
  description: Coupling variable 'collection_rate_0_1' referenced in configs/coupling.yml.
  unit: null
  dimensions:
  - t
  - r
  - m
  kind: placeholder
  status: placeholder
  source: auto_consistency_scan_v4_6
- name: od_export_cap_kt_per_yr
  description: Export capacity/ceiling available for OD allocation (after smoothing/buffering).
    Commodity-specific.
  unit: kt/yr
  dimensions:
  - t
  - r
  - m
  - c
  kind: trade_internal
  status: defined
  source: v4.7_trade_allocator
- name: od_trade_flow_kt_per_yr
  description: Allocated OD trade flows for each commodity.
  unit: kt/yr
  dimensions:
  - t
  - o
  - d
  - m
  - c
  kind: trade_output
  status: defined
  source: v4.7_trade_allocator
- name: price_index_rel
  description: Coupling variable 'price_index_rel' referenced in configs/coupling.yml.
  unit: null
  dimensions:
  - t
  - r
  - m
  kind: placeholder
  status: placeholder
  source: auto_consistency_scan_v4_6
- name: price_to_sd_smoothed_rel
  description: Coupling variable 'price_to_sd_smoothed_rel' referenced in configs/coupling.yml.
  unit: null
  dimensions:
  - t
  - r
  - m
  kind: placeholder
  status: placeholder
  source: auto_consistency_scan_v4_6
- name: recovery_rate_0_1
  description: Coupling variable 'recovery_rate_0_1' referenced in configs/coupling.yml.
  unit: null
  dimensions:
  - t
  - r
  - m
  kind: placeholder
  status: placeholder
  source: auto_consistency_scan_v4_6
- name: recycling_yield_0_1
  description: Coupling variable 'recycling_yield_0_1' referenced in configs/coupling.yml.
  unit: null
  dimensions:
  - t
  - r
  - m
  kind: placeholder
  status: placeholder
  source: auto_consistency_scan_v4_6
- name: reuse_reman_share_of_eol_0_1
  description: Coupling variable 'reuse_reman_share_of_eol_0_1' referenced in configs/coupling.yml.
  unit: null
  dimensions:
  - t
  - r
  - m
  kind: placeholder
  status: placeholder
  source: auto_consistency_scan_v4_6
- name: s_sec_max_raw_kt_per_yr
  description: Coupling variable 's_sec_max_raw_kt_per_yr' referenced in configs/coupling.yml.
  unit: null
  dimensions:
  - t
  - r
  - m
  kind: placeholder
  status: placeholder
  source: auto_consistency_scan_v4_6
- name: s_sec_max_to_sd_kt_per_yr
  description: Coupling variable 's_sec_max_to_sd_kt_per_yr' referenced in configs/coupling.yml.
  unit: null
  dimensions:
  - t
  - r
  - m
  kind: placeholder
  status: placeholder
  source: auto_consistency_scan_v4_6
- name: share_i_frac
  description: Coupling variable 'share_i_frac' referenced in configs/coupling.yml.
  unit: null
  dimensions:
  - t
  - r
  - m
  kind: placeholder
  status: placeholder
  source: auto_consistency_scan_v4_6
- name: capacity_stage_observed_kt_per_yr
  description: Scenario lever/shock variable 'capacity_stage_observed_kt_per_yr' referenced
    in configs/scenarios/*.yml.
  unit: null
  dimensions:
  - t
  - r
  - m
  kind: placeholder
  status: placeholder
  source: auto_consistency_scan_v4_6
- name: demand_multiplier_0_1
  description: Scenario lever/shock variable 'demand_multiplier_0_1' referenced in
    configs/scenarios/*.yml.
  unit: null
  dimensions:
  - t
  - r
  - m
  kind: placeholder
  status: placeholder
  source: auto_consistency_scan_v4_6
- name: demand_multiplier_ge_1
  description: Scenario lever/shock variable 'demand_multiplier_ge_1' referenced in
    configs/scenarios/*.yml.
  unit: null
  dimensions:
  - t
  - r
  - m
  kind: placeholder
  status: placeholder
  source: auto_consistency_scan_v4_6
- name: lifetime_multiplier_ge_1
  description: Lifetime extension multiplier k>=1 applied to lognormal lifetimes (mu'
    = mu + ln(k)).
  unit: '>=1'
  dimensions:
  - t
  - r
  - m
  - j
  kind: scenario_lever
  status: defined
  source: v4.7_lifetime_extension
- name: total_primary_production_kt_per_yr
  description: Required by indicator 'byproduct_percentage_frac' parsed from INDICATORS.md.
  unit: null
  dimensions:
  - t
  - r
  - m
  kind: placeholder
  status: placeholder
  source: auto_consistency_scan_v4_6
- name: stock_change_kt_per_yr
  description: Annual change in commodity buffer stocks (delta stock).
  unit: kt/yr
  dimensions:
  - t
  - r
  - m
  - c
  kind: accounting
  status: defined
  source: v4.7_buffers_balancing
- name: stockpile_mass_kt
  description: Required by indicator 'stockpile_kt' parsed from INDICATORS.md.
  unit: null
  dimensions:
  - t
  - r
  - m
  kind: placeholder
  status: placeholder
  source: auto_consistency_scan_v4_6
- name: old_scrap_generated_kt_per_yr
  description: Old scrap generated from end-of-life outflows prior to collection/sorting
    (EoL scrap).
  unit: kt/yr
  dimensions:
  - t
  - r
  - m
  - j
  kind: dmfa_internal
  status: defined
  source: dmfa_use_phase
- name: old_scrap_recycled_kt_per_yr
  description: Required by indicator 'eol_rr_frac' parsed from INDICATORS.md.
  unit: null
  dimensions:
  - t
  - r
  - m
  kind: placeholder
  status: placeholder
  source: auto_consistency_scan_v4_6
- name: primary_input_kt_per_yr
  description: Required by indicator 'eol_rir_frac' parsed from INDICATORS.md.
  unit: null
  dimensions: &id001
  - t
  - r
  - m
  kind: placeholder
  status: placeholder
  source: auto_consistency_scan_v4_6
- name: secondary_input_old_scrap_kt_per_yr
  description: Required by indicator 'eol_rir_frac' parsed from INDICATORS.md.
  unit: null
  dimensions: *id001
  kind: placeholder
  status: placeholder
  source: auto_consistency_scan_v4_6
- name: secondary_input_total_kt_per_yr
  description: Required by indicator 'eol_rir_frac' parsed from INDICATORS.md.
  unit: null
  dimensions: *id001
  kind: placeholder
  status: placeholder
  source: auto_consistency_scan_v4_6
- name: pre_use_losses_kt_per_yr
  description: Required by indicator 'inflow_to_use_kt_per_yr' parsed from INDICATORS.md.
  unit: null
  dimensions:
  - t
  - r
  - m
  kind: placeholder
  status: placeholder
  source: auto_consistency_scan_v4_6
- name: total_primary_extraction_kt_per_yr
  description: Required by indicator 'loss_rate_frac' parsed from INDICATORS.md.
  unit: null
  dimensions:
  - t
  - r
  - m
  kind: placeholder
  status: placeholder
  source: auto_consistency_scan_v4_6
- name: losses_kt_per_yr
  description: Required by indicator 'net_availability_kt_per_yr' parsed from INDICATORS.md.
  unit: null
  dimensions: &id002
  - t
  - r
  - m
  kind: placeholder
  status: placeholder
  source: auto_consistency_scan_v4_6
- name: primary_supply_kt_per_yr
  description: Required by indicator 'net_availability_kt_per_yr' parsed from INDICATORS.md.
  unit: null
  dimensions: *id002
  kind: placeholder
  status: placeholder
  source: auto_consistency_scan_v4_6
- name: secondary_supply_kt_per_yr
  description: Required by indicator 'net_availability_kt_per_yr' parsed from INDICATORS.md.
  unit: null
  dimensions: *id002
  kind: placeholder
  status: placeholder
  source: auto_consistency_scan_v4_6
- name: recycling_proc_cap_kt_per_yr
  description: Required by indicator 's_sec_max_kt_per_yr' parsed from INDICATORS.md.
  unit: null
  dimensions:
  - t
  - r
  - m
  kind: placeholder
  status: placeholder
  source: auto_consistency_scan_v4_6
- name: primary_capacity_envelope_kt_per_yr
  description: Required by indicator 's_prim_max_kt_per_yr' parsed from INDICATORS.md.
  unit: null
  dimensions:
  - t
  - r
  - m
  kind: placeholder
  status: placeholder
  source: auto_consistency_scan_v4_6
- name: hhi_mining_0_1
  description: Required by indicator 'supply_risk_extraction_index' parsed from INDICATORS.md.
  unit: null
  dimensions: &id003
  - t
  - r
  - m
  kind: placeholder
  status: placeholder
  source: auto_consistency_scan_v4_6
- name: hhi_wgi_t_mining_0_1
  description: Required by indicator 'supply_risk_extraction_index' parsed from INDICATORS.md.
  unit: null
  dimensions: *id003
  kind: placeholder
  status: placeholder
  source: auto_consistency_scan_v4_6
- name: hhi_refining_0_1
  description: Required by indicator 'supply_risk_processing_index' parsed from INDICATORS.md.
  unit: null
  dimensions: &id004
  - t
  - r
  - m
  kind: placeholder
  status: placeholder
  source: auto_consistency_scan_v4_6
- name: hhi_wgi_t_refining_0_1
  description: Required by indicator 'supply_risk_processing_index' parsed from INDICATORS.md.
  unit: null
  dimensions: *id004
  kind: placeholder
  status: placeholder
  source: auto_consistency_scan_v4_6
- name: gva_k_currency
  description: Required by indicator 'economic_importance_index' parsed from INDICATORS.md.
  unit: null
  dimensions: &id005
  - t
  - r
  - m
  kind: placeholder
  status: placeholder
  source: auto_consistency_scan_v4_6
- name: material_dependency_k_0_1
  description: Required by indicator 'economic_importance_index' parsed from INDICATORS.md.
  unit: null
  dimensions: *id005
  kind: placeholder
  status: placeholder
  source: auto_consistency_scan_v4_6
- name: shipments_kt_per_yr
  description: Required by indicator 'service_level_0_1' parsed from INDICATORS.md.
  unit: null
  dimensions:
  - t
  - r
  - m
  kind: placeholder
  status: placeholder
  source: auto_consistency_scan_v4_6
- name: service_level_target_0_1
  description: Required by indicator 'time_to_recovery_years' parsed from INDICATORS.md.
  unit: null
  dimensions:
  - t
  - r
  - m
  kind: placeholder
  status: placeholder
  source: auto_consistency_scan_v4_6
- name: inventory_kt
  description: Required by indicator 'inventory_cover_years' parsed from INDICATORS.md.
  unit: null
  dimensions:
  - t
  - r
  - m
  kind: placeholder
  status: placeholder
  source: auto_consistency_scan_v4_6
- name: orders_kt_per_yr
  description: Required by indicator 'volatility_amplification_ratio' parsed from
    INDICATORS.md.
  unit: null
  dimensions:
  - t
  - r
  - m
  kind: placeholder
  status: placeholder
  source: auto_consistency_scan_v4_6
- name: collection_cap_kt_per_yr
  description: Required by indicator 'collection_realized_kt_per_yr' parsed from INDICATORS.md.
  unit: null
  dimensions:
  - t
  - r
  - m
  - j
  kind: placeholder
  status: placeholder
  source: auto_consistency_scan_v4_6
- name: input_to_process_kt_per_yr
  description: Required by indicator 'losses_by_process_kt_per_yr' parsed from INDICATORS.md.
  unit: null
  dimensions: &id006
  - t
  - r
  - m
  - j
  - p
  kind: placeholder
  status: placeholder
  source: auto_consistency_scan_v4_6
- name: transfer_to_next_process_kt_per_yr
  description: Required by indicator 'losses_by_process_kt_per_yr' parsed from INDICATORS.md.
  unit: null
  dimensions: *id006
  kind: placeholder
  status: placeholder
  source: auto_consistency_scan_v4_6
- name: useful_output_from_process_kt_per_yr
  description: Required by indicator 'losses_by_process_kt_per_yr' parsed from INDICATORS.md.
  unit: null
  dimensions: *id006
  kind: placeholder
  status: placeholder
  source: auto_consistency_scan_v4_6
- name: i_use_kt_per_yr
  description: 'I_use: realized demand / material inflow into use stock after fabrication
    allocation (use inflow). Used as denominator for demand-based indicators.'
  unit: kt/yr
  dimensions:
  - t
  - r
  - m
  - j
  kind: dmfa_output
  status: defined
  source: v4.7_equation_skeleton
- name: unmet_demand_kt_per_yr
  description: 'Shortage diagnostic: max(0, desired demand - realized demand). Indicators
    use realized demand (i_use), not desired demand.'
  unit: kt/yr
  dimensions:
  - t
  - r
  - m
  - j
  kind: sd_dmfa_diagnostic
  status: defined
  source: v4.7_equation_skeleton
- name: stock_concentrate_kt
  description: Buffer stock of concentrate (physical stock, not smoothed). Used to
    compute export ceilings and resilience buffers.
  unit: kt
  dimensions:
  - t
  - r
  - m
  - c
  kind: dmfa_state
  status: defined
  source: v4.7_buffers_balancing
- name: stock_scrap_kt
  description: Buffer stock of scrap (physical stock, not smoothed). Used to compute
    export ceilings and resilience buffers.
  unit: kt
  dimensions:
  - t
  - r
  - m
  - c
  kind: dmfa_state
  status: defined
  source: v4.7_buffers_balancing
- name: stock_refined_metal_kt
  description: Buffer stock of refined metal (physical stock, not smoothed). Used
    to compute export ceilings and resilience buffers.
  unit: kt
  dimensions:
  - t
  - r
  - m
  - c
  kind: dmfa_state
  status: defined
  source: v4.7_buffers_balancing
- name: balancing_item_kt_per_yr
  description: Balancing item to reconcile apparent consumption identity and enforce
    non-negativity during calibration/ETL.
  unit: kt/yr
  dimensions:
  - t
  - r
  - m
  - c
  kind: dmfa_diagnostic
  status: defined
  source: miso2_balancing_convention
- name: negativity_clipped_kt_per_yr
  description: Quantity clipped to avoid negative apparent consumption or negative
    flows.
  unit: kt/yr
  dimensions:
  - t
  - r
  - m
  - c
  kind: dmfa_diagnostic
  status: defined
  source: miso2_balancing_convention
- name: new_scrap_generated_kt_per_yr
  description: New (manufacturing) scrap generated in fabrication/manufacturing stage.
  unit: kt/yr
  dimensions:
  - t
  - r
  - m
  - j
  kind: dmfa_internal
  status: defined
  source: tin_circularity_boundary
- name: scrap_buffer_kt
  description: Scrap buffer stock (optional) to represent collection/supply delay
    and damp peaks/troughs in scrap availability.
  unit: kt
  dimensions:
  - t
  - r
  - m
  kind: dmfa_state
  status: defined
  source: zinc_scrap_buffering
- name: scrap_release_kt_per_yr
  description: Scrap released from scrap_buffer to secondary refining/trade per year
    (scrap_buffer / tau_scrap_delay).
  unit: kt/yr
  dimensions:
  - t
  - r
  - m
  kind: dmfa_flow
  status: defined
  source: zinc_scrap_buffering
- name: tau_scrap_delay_years
  description: Time constant for scrap buffering/delay (years).
  unit: years
  dimensions:
  - m
  kind: parameter
  status: placeholder
  source: literature_or_user_input
- name: functional_recycling_share_0_1
  description: 'Optional split: fraction of recycled material that is functionally
    recycled back into the same CRM cycle (rest treated as non-functional).'
  unit: 0..1
  dimensions:
  - t
  - r
  - m
  - j
  kind: parameter_or_exogenous
  status: placeholder
  source: tin_circularity_boundary
- name: eol_recycling_kt_per_yr
  description: AUTO placeholder required by v4.7 indicator extensions; define in DMFA
    outputs or exogenous inputs.
  unit: kt/yr
  dimensions:
  - t
  - r
  - m
  kind: placeholder
  status: placeholder
  source: auto_v4.7
